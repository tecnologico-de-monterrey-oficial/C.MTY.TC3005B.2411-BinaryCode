<div class="text">
    <div class="titulo">Registrarse en CarDrive</div>
    <p class="texto-color">Haz clic en el usuario para añadir una imagen</p>
    <div class="usuario-container">
        <div
            class="usuario-icono-container"
            [style.background-color]="
                !imagenSeleccionada ? colorSeleccionado : 'transparent'
            "
            (click)="seleccionarImagen()"
            style="cursor: pointer">
            <ng-container *ngIf="!imagenSeleccionada">
                <span class="usuario-icono" nz-icon nzType="user"></span>
            </ng-container>
            <ng-container *ngIf="imagenSeleccionada">
                <img
                    [src]="imagenSeleccionada"
                    class="usuario-imagen"
                    alt="Imagen de usuario" />
            </ng-container>
            <input
                type="file"
                #fileInput
                (change)="onFileSelected($event)"
                style="display: none" />
        </div>
    </div>
    <ng-container *ngIf="imagenSeleccionada">
        <button type="button" (click)="quitarImagen()">Quitar Imagen</button>
    </ng-container>
</div>

<form [formGroup]="registroForm" (ngSubmit)="onSubmit()">
    <div class="campo">
        <label for="email">Email:</label>
        <input
            nz-input
            placeholder="Introduce tu email"
            formControlName="email"
            type="email" />
    </div>

    <div class="campo">
        <label for="password">Crea tu contraseña:</label>
        <div class="input-wrapper">
            <input
                nz-input
                type="password"
                placeholder="Introduce tu contraseña"
                formControlName="password"
                [type]="hide ? 'password' : 'text'" />
            <i
                nz-icon
                nzType="{{ hide ? 'eye-invisible' : 'eye' }}"
                (click)="toggleHide()"></i>
        </div>
    </div>

    <div class="campo">
        <label for="password">Confirma tu contraseña:</label>
        <div class="input-wrapper">
            <input
                nz-input
                type="password"
                placeholder="Confirma tu contraseña"
                [type]="hide ? 'password' : 'text'" />
            <i
                nz-icon
                nzType="{{ hide ? 'eye-invisible' : 'eye' }}"
                (click)="toggleHide()"></i>
        </div>
    </div>

    <div class="campo">
        <label for="first_name">Nombre:</label>
        <input
            nz-input
            placeholder="Nombre"
            type="text"
            formControlName="first_name" />
    </div>

    <div class="campo">
        <label for="last_name">Apellido:</label>
        <input
            nz-input
            placeholder="Apellido"
            type="text"
            formControlName="last_name" />
    </div>

    <p class="texto-color" *ngIf="!imagenSeleccionada">Selecciona el color</p>

    <div class="colores" *ngIf="!imagenSeleccionada">
        <div
            *ngFor="let opcionColor of colores"
            nzSpan="2"
            class="cuadro"
            [class.seleccionado]="colorSeleccionado === opcionColor"
            (click)="seleccionarColor(opcionColor)"
            [style.background-color]="opcionColor"></div>
    </div>

    <button type="submit">Registrarse</button>
</form>
