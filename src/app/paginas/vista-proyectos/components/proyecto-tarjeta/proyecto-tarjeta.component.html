<div [class]="descripcion ? 'card' : 'card-resumida'">
    <div
        class="image-container"
        [ngStyle]="{
            'background-image': 'url(' + proyecto.imagen + ')',
            'border-color': '#' + proyecto.color
        }"
        style="position: relative">
        <div
            [ngStyle]="{
                position: 'absolute',
                top: '0',
                left: '0',
                width: '100%',
                height: '100%',
                'background-color': proyecto.color,
                opacity: '0.5',
                'border-radius': '10px'
            }">
            <!-- BotÃ³n de opciones ajustado -->
            <div class="options-button">
                <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
                    <span
                        nz-icon
                        nzType="more"
                        nzTheme="outline"
                        [ngStyle]="{ color: 'white' }"></span>
                </a>
                <nz-dropdown-menu #menu="nzDropdownMenu">
                    <ul nz-menu nzSelectable>
                        <li nz-menu-item (click)="editarProyecto()">
                            <span
                                class="icono-opcion"
                                nz-icon
                                nzType="edit"></span>
                            Editar
                        </li>

                        <li nz-menu-item>
                            <span
                                class="icono-opcion"
                                nz-icon
                                nzType="folder-open"></span>
                            Archivar
                        </li>
                        <li nz-menu-item>
                            <span
                                class="icono-opcion"
                                nz-icon
                                nzType="unlock"></span>
                            Permisos
                        </li>
                        <li nz-menu-item nzDanger (click)="showModal()">
                            <span
                                class="icono-opcion icono-borrar"
                                nz-icon
                                nzType="delete"></span>
                            Borrar
                        </li>
                    </ul>
                </nz-dropdown-menu>
            </div>
        </div>
    </div>
    <br />
    <a href="/proyectos/{{ proyecto.id }}/unidades">
        <div class="name-label" [ngStyle]="{ color: proyecto.color }">
            {{ proyecto.nombre }}
        </div>
    </a>
    <div class="description" *ngIf="descripcion">
        {{ proyecto.descripcion }}
    </div>
</div>

<nz-modal
    class="modal-borrar"
    [(nzVisible)]="isVisible"
    [nzContent]="modalContent"
    [nzFooter]="null"
    (nzOnCancel)="handleCancel()">
    <ng-template #modalContent>
        <app-proyecto-borrar
            [proyecto]="proyecto"
            [isConfirmLoading]="isConfirmLoading"
            (deleteProject)="handleOk()"
            (cancelModal)="handleCancel()" />
    </ng-template>
</nz-modal>
