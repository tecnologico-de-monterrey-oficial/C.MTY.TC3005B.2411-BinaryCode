<div [class]="descripcion ? 'card' : 'card-resumida'">
    <div
        class="image-container"
        [ngStyle]="{
            'background-image': 'url(' + proyecto.urlImagen + ')',
            'border-color': proyecto.color
        }"
        style="position: relative">
        <div
            [ngStyle]="{
                position: 'absolute',
                top: '0',
                left: '0',
                width: '100%',
                height: '100%',
                'background-color': proyecto.color,
                opacity: '0.5',
                'border-radius': '10px'
            }">
            <div class="options-button">
                <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
                    <span nz-icon nzType="more" nzTheme="outline"></span>
                </a>
                <nz-dropdown-menu #menu="nzDropdownMenu">
                    <ul nz-menu nzSelectable>
                        <li nz-menu-item>
                            Editar <span nz-icon nzType="edit"></span>
                        </li>
                        <li nz-menu-item>
                            Archivar <span nz-icon nzType="folder-open"></span>
                        </li>
                        <li nz-menu-item>
                            Dar permisos <span nz-icon nzType="unlock"></span>
                        </li>
                        <li nz-menu-item nzDanger (click)="showModal()">
                            Borrar
                            <span nz-icon nzType="delete"></span>
                        </li>
                    </ul>
                </nz-dropdown-menu>
            </div>
        </div>
    </div>
    <a href="/proyectos/{{ proyecto.id }}/unidades">
        <div class="name-label" [ngStyle]="{ color: proyecto.color }">
            {{ proyecto.nombre }}
        </div>
    </a>
    <div class="description" *ngIf="descripcion">
        {{ proyecto.descripcion }}
    </div>
</div>

<nz-modal
    [(nzVisible)]="isVisible"
    [nzContent]="modalContent"
    [nzFooter]="null"
    (nzOnCancel)="handleCancel()">
    <ng-template #modalContent>
        <app-proyecto-borrar
            [proyecto]="proyecto"
            [isConfirmLoading]="isConfirmLoading"
            (deleteProject)="handleOk()"
            (cancelModal)="handleCancel()" />
    </ng-template>
</nz-modal>
